{"ast":null,"code":"import{createContext,useContext,useEffect,useState}from\"react\";import{createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged,signOut,GoogleAuthProvider,signInWithPopup}from\"firebase/auth\";import{auth}from\"./firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";const userAuthContext=/*#__PURE__*/createContext();export function UserAuthContextProvider(_ref){let{children}=_ref;const[user,SetUser]=useState({});function logIn(email,password){return signInWithEmailAndPassword(auth,email,password);}function signin(email,password){return createUserWithEmailAndPassword(auth,email,password);//  createUserWithEmailAndPassword(auth, email, password)\n//  .then((userCredential) => {\n//     // Signed up \n//     const user = userCredential.user;\n//     // ...\n//   })\n//   .catch((error) => {\n//     const errorCode = error.code;\n//     const errorMessage = error.message;\n//     console.log(errorCode,errorMessage)\n//     // ..\n//   });\n}function logOut(){return signOut(auth);}function googleSignin(){const googleAuthProvider=new GoogleAuthProvider();return signInWithPopup(auth,googleAuthProvider);}useEffect(()=>{const Unsubscribe=onAuthStateChanged(auth,currentuser=>{console.log(\"Auth\",currentuser);SetUser(currentuser);});return()=>{Unsubscribe();};},[]);return/*#__PURE__*/_jsx(userAuthContext.Provider,{value:{user,logIn,signin,logOut,googleSignin},children:children});}// export default UserAuthContextProvider\nexport function useUserAuth(){return useContext(userAuthContext);}","map":{"version":3,"names":["createContext","useContext","useEffect","useState","createUserWithEmailAndPassword","signInWithEmailAndPassword","onAuthStateChanged","signOut","GoogleAuthProvider","signInWithPopup","auth","jsx","_jsx","userAuthContext","UserAuthContextProvider","_ref","children","user","SetUser","logIn","email","password","signin","logOut","googleSignin","googleAuthProvider","Unsubscribe","currentuser","console","log","Provider","value","useUserAuth"],"sources":["C:/Users/Aditya/Desktop/nullclass_practice/twiller-twitterclone/twiller/src/context/UserAuthContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\nimport {\n    createUserWithEmailAndPassword,\n    signInWithEmailAndPassword,\n    onAuthStateChanged,\n    signOut,\n    GoogleAuthProvider,\n    signInWithPopup,\n} from \"firebase/auth\";\nimport { auth } from \"./firebase\";\n\n const userAuthContext = createContext();\n\nexport function UserAuthContextProvider({children} ) {\n    const [user, SetUser] = useState({});\n\n    function logIn(email, password) {\n        return signInWithEmailAndPassword(auth, email, password);\n    }\n    function signin(email, password) {\n        return createUserWithEmailAndPassword(auth, email, password)\n        \n        //  createUserWithEmailAndPassword(auth, email, password)\n        //  .then((userCredential) => {\n        //     // Signed up \n        //     const user = userCredential.user;\n        //     // ...\n        //   })\n        //   .catch((error) => {\n        //     const errorCode = error.code;\n        //     const errorMessage = error.message;\n        //     console.log(errorCode,errorMessage)\n        //     // ..\n        //   });\n    }\n    function logOut() {\n        return signOut(auth);\n    }\n    function googleSignin() {\n        const googleAuthProvider = new GoogleAuthProvider();\n        return signInWithPopup(auth, googleAuthProvider);\n    }\n\n    useEffect(() => {\n        const Unsubscribe = onAuthStateChanged(auth, (currentuser) => {\n            console.log(\"Auth\", currentuser);\n            SetUser(currentuser);\n        });\n\n        return () => {\n            Unsubscribe();\n        };\n    }, []);\n\n    return (\n        <userAuthContext.Provider\n            value={{ user, logIn, signin, logOut, googleSignin }}\n        >\n            {children}\n        </userAuthContext.Provider>\n    );\n}\n// export default UserAuthContextProvider\nexport function useUserAuth() {\n    return useContext(userAuthContext);\n}"],"mappings":"AAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACtE,OACIC,8BAA8B,CAC9BC,0BAA0B,CAC1BC,kBAAkB,CAClBC,OAAO,CACPC,kBAAkB,CAClBC,eAAe,KACZ,eAAe,CACtB,OAASC,IAAI,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjC,KAAM,CAAAC,eAAe,cAAGb,aAAa,CAAC,CAAC,CAExC,MAAO,SAAS,CAAAc,uBAAuBA,CAAAC,IAAA,CAAc,IAAb,CAACC,QAAQ,CAAC,CAAAD,IAAA,CAC9C,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAAC,CAAC,CAEpC,QAAS,CAAAgB,KAAKA,CAACC,KAAK,CAAEC,QAAQ,CAAE,CAC5B,MAAO,CAAAhB,0BAA0B,CAACK,IAAI,CAAEU,KAAK,CAAEC,QAAQ,CAAC,CAC5D,CACA,QAAS,CAAAC,MAAMA,CAACF,KAAK,CAAEC,QAAQ,CAAE,CAC7B,MAAO,CAAAjB,8BAA8B,CAACM,IAAI,CAAEU,KAAK,CAAEC,QAAQ,CAAC,CAE5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ,CACA,QAAS,CAAAE,MAAMA,CAAA,CAAG,CACd,MAAO,CAAAhB,OAAO,CAACG,IAAI,CAAC,CACxB,CACA,QAAS,CAAAc,YAAYA,CAAA,CAAG,CACpB,KAAM,CAAAC,kBAAkB,CAAG,GAAI,CAAAjB,kBAAkB,CAAC,CAAC,CACnD,MAAO,CAAAC,eAAe,CAACC,IAAI,CAAEe,kBAAkB,CAAC,CACpD,CAEAvB,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAwB,WAAW,CAAGpB,kBAAkB,CAACI,IAAI,CAAGiB,WAAW,EAAK,CAC1DC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAEF,WAAW,CAAC,CAChCT,OAAO,CAACS,WAAW,CAAC,CACxB,CAAC,CAAC,CAEF,MAAO,IAAM,CACTD,WAAW,CAAC,CAAC,CACjB,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,mBACId,IAAA,CAACC,eAAe,CAACiB,QAAQ,EACrBC,KAAK,CAAE,CAAEd,IAAI,CAAEE,KAAK,CAAEG,MAAM,CAAEC,MAAM,CAAEC,YAAa,CAAE,CAAAR,QAAA,CAEpDA,QAAQ,CACa,CAAC,CAEnC,CACA;AACA,MAAO,SAAS,CAAAgB,WAAWA,CAAA,CAAG,CAC1B,MAAO,CAAA/B,UAAU,CAACY,eAAe,CAAC,CACtC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}